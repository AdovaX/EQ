
<app-menubar></app-menubar>
<div class="content-wrapper">
   <div class="container-fluid">

    <div class="row pt-2 pb-2">
        <div class="col-sm-6">
            <h4 class="page-title"> Project Lists</h4> 
       </div> 
       <div class="col-sm-6">
       <div class="right">
           <button type="button" class="btn btn-primary m-1" [routerLink]="['/company/Projectmanagement/Createproject']" >Create New <span class="fa fa-plus"></span> </button>
       </div>
   </div>
       </div> 
  
    <div class="card">
        <div class="card-body">    
    <div class="row"> 
            <div class="col-sm-12">


                <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

                        <!-- Position Column -->
                        <ng-container matColumnDef="No">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                          <td mat-cell *matCellDef="let element;let i = index;"> {{i + 1}} </td>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="Status">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                          <td mat-cell *matCellDef="let element">   
                            <mat-slide-toggle color='primary' [checked]="element.Status==1" (click)=toogleActive(element.Project_id,element.Status)>
                                <span *ngIf="element.Status==1">Active</span> 
                                <span *ngIf="element.Status==0">Inactive</span>
                              </mat-slide-toggle>
                          </td>
                        </ng-container>
                      
                        <!-- Name Column -->
                        <ng-container matColumnDef="Project_name">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                          <td mat-cell *matCellDef="let element"> {{element.Project_name}} &nbsp;</td>
                        </ng-container>
                      
                        <!-- Weight Column -->
                        <ng-container matColumnDef="Project_location">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> Location </th>
                          <td mat-cell *matCellDef="let element"> {{element.Project_location}} </td>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="Start_date">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> Start date </th>
                          <td mat-cell *matCellDef="let element">  
                            <mat-form-field appearance="legacy" class="dateWidth">
                                <mat-label>{{element.Start_date}}</mat-label>
                                <input matInput [matDatepicker]="picker" [min]="today" disabled (dateChange)="updateStart($event,element.Project_id)">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker disabled="false" ></mat-datepicker>
                              </mat-form-field>
                          </td>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="End_date">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> End date </th>
                          <td mat-cell *matCellDef="let element">  
                            <mat-form-field appearance="legacy" class="dateWidth">
                                <mat-label>{{element.End_date}}</mat-label>
                                <input matInput [matDatepicker]="picker" [min]="today" disabled (dateChange)="updateEnd($event,element.Project_id)">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker disabled="false" ></mat-datepicker>
                              </mat-form-field>

                          </td>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="Remaining">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> Remaining </th>
                          <td mat-cell *matCellDef="let element"> {{element.Remaining + 'Days'}} </td>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="Action">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
                          <td mat-cell *matCellDef="let element">  
                            <button mat-flat-button (click)="gotoProject(element.Project_id)">
                               <span class="fa fa-folder-open-o"></span>  Details  
                          </button>
                          <button mat-flat-button (click)="gotoAssignment(element.Project_id)">
                            <span class="fa fa-newspaper-o"></span>  Assignments
                        </button>
 
                          </td>
                        </ng-container>
                      
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                      </table>
                      
                      </div> 

        </div>
    </div>
    </div>
    </div>







        <div class="overlay toggle-menu"></div> 
    </div>
    </div> 
<app-footer></app-footer>